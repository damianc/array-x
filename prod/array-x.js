(()=>{"use strict";function n(n,t=!0){if(0===this.length)return[];const i=this.findIndex((t=>"function"==typeof n?n(t):t===n));return-1===i?this:this.slice(0,i+(t?1:0))}function t(n,t,i,e=!0){const u=[];let l=i;for(let i in this){const r=this[i];if(l=t(l,r,i),n(l,r,+i)){e&&u.push(r);break}u.push(r)}return u}function i(n,t=!0){if(0===this.length)return[];const i=this.findIndex((t=>"function"==typeof n?n(t):t===n));return-1===i?[]:this.slice(i+(t?0:1))}function e(n,t,i,e=!0){const u=[];let l=i;for(let i in this){const r=this[i];if(l=t(l,r,i),n(l,r,+i)){e||u.push(r);break}u.push(r)}return this.slice(u.length)}function u(n){let t=null;function i(t){return"function"==typeof n?n(t):t===n}for(let n in this)if(i(this[n])){t=[+n,this[n]];break}return t}function l(n){let t=[];return this.forEach(((i,e)=>{(function(t){return"function"==typeof n?n(t):t===n})(i)&&t.push([e,i])})),t}function r(n){return t=>n&&"function"==typeof n?n(t):t}function s(n=null){r(n);const t=this.x.findMinIndex(n);return-1===t?null:[t,this[t]]}function h(n=null){r(n);const t=this.x.findMaxIndex(n);return-1===t?null:[t,this[t]]}function c(n=null){const t=r(n);return 0===this.length?null:1===this.length?t(this[0]):this.reduce(((n,i,e)=>{const u=1===e?t(n):n;return Math.min(t(i),u)}))}function o(n=null){return 0===this.length?null:n?this.reduce(((t,i)=>n(i)<n(t)?i:t)):Math.min(...this)}function f(n,t,i=null,e){const u=[(n,e,u,l)=>{let r=t(n,e,u,l);return i&&u===l.length-1&&(r=i(r,l)),r}];return void 0!==e&&u.push(e),n.reduce(...u)}function d(n=null){const t=r(n);return 0===this.length?-1:1===this.length?0:f(this,((n,i,e)=>{if(1===e)return t(i)<t(n)?[i,1]:[n,0];let[u]=n;return t(i)<t(u)?[i,e]:n}),(([,n])=>n))}function a(n=null){const t=r(n);return 0===this.length?null:1===this.length?t(this[0]):this.reduce(((n,i,e)=>{const u=1===e?t(n):n;return Math.max(t(i),u)}))}function b(n=null){return 0===this.length?null:n?this.reduce(((t,i)=>n(i)>n(t)?i:t)):Math.max(...this)}function g(n=null){const t=r(n);return 0===this.length?-1:1===this.length?0:f(this,((n,i,e)=>{if(1===e)return t(i)>t(n)?[i,1]:[n,0];let[u]=n;return t(i)>t(u)?[i,e]:n}),(([,n])=>n))}function p(n){return this.reduce(((t,i)=>{return t+(e=i,("function"==typeof n?n(e):e===n)?1:0);var e}),0)}function x(n=null){const t=r(n);return 0===this.length?null:f(this.map((n=>t(n))),((n,t)=>n+t),((n,t)=>n/t.length))}Object.defineProperty(Array.prototype,"x",{get(){const r=this;return{collectUntil:n.bind(r),collectUntilReduce:t.bind(r),skipUntil:i.bind(r),skipUntilReduce:e.bind(r),localize:u.bind(r),localizeAll:l.bind(r),localizeMin:s.bind(r),localizeMax:h.bind(r),min:c.bind(r),findMin:o.bind(r),findMinIndex:d.bind(r),max:a.bind(r),findMax:b.bind(r),findMaxIndex:g.bind(r),count:p.bind(r),avg:x.bind(r)}}})})();